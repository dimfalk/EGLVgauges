---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# EGLVgauges

<!-- badges: start -->
[![R-CMD-check](https://github.com/dimfalk/EGLVgauges/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/dimfalk/EGLVgauges/actions/workflows/R-CMD-check.yaml)
[![codecov](https://codecov.io/gh/dimfalk/EGLVgauges/branch/main/graph/badge.svg?token=3JJOI51OT8)](https://codecov.io/gh/dimfalk/EGLVgauges)
<!-- badges: end -->

EGLVgauges aims to grant easy access to EGLV gauge data and metadata published at [pegel.eglv.de](https://pegel.eglv.de/).

## Installation

You can install the development version of EGLVgauges with:

``` r
# install.packages("devtools")
devtools::install_github("dimfalk/EGLVgauges")
```

and load the package via

```{r}
library(EGLVgauges)
```

## Basic examples

### Get gauge metadata and latest measurements

```{r}
# fetch all available gauges
gauges <- get_gauges()
gauges

# ... eventually filter the dataset to the objects you're interested in
gauge <- gauges |> dplyr::filter(id == "10119")
gauge
```

### Get (extended) metadata for specific gauge

```{r}
get_meta(gauge)
```

### Get available measurements for specific gauge

```{r}
# fetch water level measurements
meas <- get_measurements(gauge)[[1]]
meas

class(meas)

plot(meas, main = "10119 Adenauerallee", ylab = "Water level [cm]")
```
